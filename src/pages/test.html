<!DOCTYPE html>
<html>
  <head>
    <title>WebSocket Test</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.6.1/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
  </head>
  <body>
    <h1>WebSocket Test Page</h1>
    <p>브라우저 개발자 도구(F12)의 콘솔을 확인하세요.</p>

    <script>
      console.log("테스트 시작...");

      // 스프링 부트 서버의 실제 주소로 직접 연결 시도!
      const socket = new SockJS("http://localhost:8080/ws-stomp");
      const stompClient = Stomp.over(socket);

      stompClient.connect(
        {},
        (frame) => {
          // 성공 콜백
          console.log("연결 성공! 🎉", frame);
          alert("스프링 부트 서버와 연결 성공했습니다!");
        },
        (error) => {
          // 에러 콜백
          console.error("연결 실패... 😭", error);
          alert("연결에 실패했습니다. 콘솔을 확인하세요.");
        }
      );
    </script>
  </body>
</html>
